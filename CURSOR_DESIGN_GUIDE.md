# Cursorでのデザイン開発ガイド

## 概要

このドキュメントは、Cursorでの自然言語指示による開発で、デザインが思った通りにならない問題（テキストの重複、レイアウト崩れなど）を解決するためのガイドです。

## 設定ファイル

### `.cursor/rules/*.mdc`（推奨）
プロジェクトルートの`.cursor/rules/`ディレクトリに`.mdc`ファイルを作成しました。以下のルールが定義されています：

- `design-ui-guidelines.mdc`: デザイン・UI開発ガイドライン（フロントエンドファイルに自動適用）
- `project-overview.mdc`: プロジェクト概要（常に適用）

### `.cursorrules`（非推奨）
古い形式の`.cursorrules`ファイルも残していますが、`.mdc`形式への移行を推奨します。

- テキストの重複禁止
- レイアウト修正の原則
- コントラストと視認性の基準
- 余白と情報設計のルール
- 情報密度の管理

このファイルは、Cursorのすべての対話に自動で適用されます。

## プロンプトテンプレート

`PROMPT_TEMPLATES.md`に、以下のテンプレートを用意しました：

1. **エラー修正時のプロンプトテンプレート**
   - 基本テンプレート
   - テキスト重複修正の例
   - レイアウト崩れ修正の例

2. **デザイン改善時のプロンプトテンプレート**
   - コントラスト改善
   - 情報密度改善
   - 余白統一

3. **セクションごとの作業依頼テンプレート**

4. **繰り返しエラー対策プロンプト**

## 実装済みの改善

### コントラスト改善
- 本文テキスト: `#222`（WCAG 4.5:1以上を満たす）
- 見出し: `#111`
- リード文・注釈: `#444`
- 背景: `#F7F8FA`

### 余白統一
- セクション間: 上下80px
- セクション内部要素間: 24px
- 8pxグリッドシステムに統一

### 情報密度の管理
- 経済指標の解説カードは、見出し + 要約 + 箇条書き6項目以内に制限

## 使い方

### 1. エラーを指摘する際

❌ **NG例:**
```
ここはエラーです
```

✅ **OK例:**
```
Heroセクションの見出しテキストが二重に表示されている。

期待する状態:
- 見出しは1つだけ、h1にのみ表示する

禁止事項:
- 新しいテキストノードを追加しない
- ファイル全体を書き換えない

タスク:
既存構造を維持したまま、重複を取り除き、コード差分を最小にして修正してください。

修正後に、テキストの重複とレイアウト崩れが起きていないか、箇条書きで自己レビューを書いてください。
```

### 2. デザイン改善を依頼する際

`PROMPT_TEMPLATES.md`のテンプレートをコピーして、具体的な内容を記入してください。

### 3. 繰り返しエラーが発生する場合

```
同じタイプのバグ（テキスト重複）が繰り返し発生しています。

なぜそのバグが起きたのか説明してください。
次から同じバグを避けるためのルールを3つ書いてください。
その内容を.cursorrulesファイルに追記してください。
```

## チェックリスト

UIコンポーネントを作成・修正する際は、以下を確認してください：

- [ ] テキストはユニークで、同じコピーを2回以上表示しない
- [ ] 余白は8pxグリッドに揃える
- [ ] 見出し階層はh1→h2→h3のみ
- [ ] コントラスト比4.5:1以上を満たす
- [ ] 変更箇所のみを編集し、既存の正常なコードには触れない
- [ ] ファイル全体を書き換えない

## 参考資料

- [Cursor Best Practices](https://github.com/digitalchild/cursor-best-practices)
- [WCAG 2.1 Contrast Guidelines](https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html)

