<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="日本の労働時間と経済成長の関係を可視化するインタラクティブダッシュボード">
    <title>日本の労働時間と経済成長の可視化</title>
    <!-- Noto Sans JP - デジタル庁準拠のフォント -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.14/dist/full.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-base-200 min-h-screen">
    <div class="container w-full max-w-7xl mx-auto p-4 md:p-6 lg:p-8 bg-base-100 shadow-xl min-h-screen">
        <header class="text-center border-b-2 border-base-300">
            <h1 class="text-4xl lg:text-5xl font-bold">日本の労働時間と経済成長の可視化</h1>
            <p class="text-base-content/70 text-lg">「なぜ働いていると本が読めなくなるのか」から考える労働時間と経済成長の関係</p>
            <div class="alert alert-success shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <div><strong>実データを使用:</strong> 厚生労働省・内閣府・総務省の公式統計を元に作成しています。</div>
            </div>
        </header>

        <nav class="flex flex-wrap gap-2 bg-base-200 rounded-box">
            <button class="tab-button btn btn-sm sm:btn-md active" data-tab="timeseries">時系列グラフ</button>
            <button class="tab-button btn btn-sm sm:btn-md" data-tab="correlation">相関分析</button>
            <button class="tab-button btn btn-sm sm:btn-md" data-tab="comparison">国際比較</button>
            <button class="tab-button btn btn-sm sm:btn-md" data-tab="reading">読書時間との関係</button>
        </nav>

        <div class="filter-panel bg-base-200 rounded-box">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 items-end">
                <div class="form-control w-full">
                    <label class="label" for="indicator-select">
                        <span class="label-text font-medium">経済指標:</span>
                    </label>
                    <select id="indicator-select" class="select select-bordered select-sm md:select-md w-full" aria-label="経済指標を選択">
                        <option value="gdp_growth_rate">GDP成長率</option>
                        <option value="gdp_per_capita_usd">一人当たりGDP</option>
                    </select>
                </div>
                <div class="form-control w-full">
                    <label class="label" for="start-year">
                        <span class="label-text font-medium">開始年:</span>
                    </label>
                    <input type="number" id="start-year" min="1945" max="2024" class="input input-bordered input-sm md:input-md w-full" aria-label="開始年">
                </div>
                <div class="form-control w-full">
                    <label class="label" for="end-year">
                        <span class="label-text font-medium">終了年:</span>
                    </label>
                    <input type="number" id="end-year" min="1945" max="2024" class="input input-bordered input-sm md:input-md w-full" aria-label="終了年">
                </div>
                <div class="flex gap-2 sm:col-span-2 lg:col-span-2">
                    <button id="apply-filters" class="btn btn-primary btn-sm md:btn-md flex-1">適用</button>
                    <button id="download-chart" class="btn btn-secondary btn-sm md:btn-md flex-1">ダウンロード</button>
                </div>
            </div>
        </div>

        <main>
            <!-- 時系列グラフタブ -->
            <div id="timeseries-tab" class="tab-content active">
                <div class="chart-container">
                    <h2 class="text-3xl font-bold">労働時間と経済指標の推移</h2>
                    <div id="timeseries-chart" class="bg-base-100 rounded-lg"></div>
                </div>
            </div>

            <!-- 相関分析タブ -->
            <div id="correlation-tab" class="tab-content">
                <div class="chart-container">
                    <h2 class="text-3xl font-bold">相関分析</h2>
                    <div id="correlation-chart" class="bg-base-100 rounded-lg"></div>
                    <div id="correlation-stats" class="correlation-stats"></div>
                </div>
            </div>

            <!-- 国際比較タブ -->
            <div id="comparison-tab" class="tab-content">
                <div class="chart-container">
                    <h2 class="text-3xl font-bold">国際比較</h2>
                    <div id="comparison-chart" class="bg-base-100 rounded-lg"></div>
                </div>
            </div>

            <!-- 読書時間タブ -->
            <div id="reading-tab" class="tab-content">
                <div class="chart-container">
                    <h2 class="text-3xl font-bold">読書時間との関係</h2>
                    <div id="reading-chart" class="bg-base-100 rounded-lg"></div>
                </div>
            </div>
        </main>

        <!-- 解説セクション -->
        <section class="card bg-base-200 shadow-md">
            <h2 class="text-3xl font-bold">経済指標の解説</h2>
            <div id="indicator-explanations"></div>
        </section>

        <!-- データソース情報 -->
        <section class="card bg-base-200 shadow-md">
            <h2 class="text-3xl font-bold">データソース</h2>
            <div id="data-sources-list"></div>
        </section>

        <footer class="border-t-2 border-base-300 text-center text-base-content/60">
            <p>この可視化は「なぜ働いていると本が読めなくなるのか」という本をきっかけに作成されました。</p>
        </footer>
    </div>

    <!-- D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- メインアプリケーション -->
    <script src="js/main.js"></script>
    <!-- チャートコンポーネント -->
    <script src="js/charts/timeseries.js"></script>
    <script src="js/charts/correlation.js"></script>
    <script src="js/charts/comparison.js"></script>
    <script src="js/charts/reading.js"></script>
    <!-- ユーティリティ -->
    <script src="js/utils/api.js"></script>
    <script src="js/utils/download.js"></script>
</body>
</html>

